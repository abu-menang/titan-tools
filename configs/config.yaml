# Unified configuration for Titan Tools.
# Centralises task settings and logging defaults in a single file.

logging:
  # Default logging level for the entire toolkit. Accepts standard logging levels.
  level: INFO
  # Allow overriding Rich-based logging. Values: true, false, or "auto" to auto-detect.
  use_rich: auto
  # Directory for log files emitted by the logging setup.
  log_dir: "./logs"
  # Prefix applied to generated log filenames.
  file_prefix: "titan"

task_defaults:
  roots:
    #- "/drive/HYPERION/movies/anime/"
    - "/drive/ATLAS/series/english/IT - Welcome to Derry/"
    #- "/drive/ATLAS/series/test/"
    #- "/drive/HYPERION/movies/chinese/"
  tracks_root: "./00_tracks"
  hevc_root: "./00_hevc"
  
shared:
  batch_size: 100  # max files per CSV batch
  csv_part: [0]  # 0 = latest non-batched CSV, >0 = specific batched parts

tasks:

  vid_rename:
    dry_run: false
    no_meta: false
    # csv_part: [10]
    logging:
      file_prefix: "rename"

  vid_hevc_convert:
    dry_run: false
    preset: "slow"
    crf: 23
    logging:
      file_prefix: "hevc_convert"

  vid_mkv_clean:
    dry_run: false
    # csv_part: [1]  # override with latest mkv_scan_tracks_part01.csv
    logging:
      file_prefix: "mkv_clean"
    # Which mkv_scan_tracks CSV variants to load for cleaning. Options:
    #tracks_csv_types: ["ok"] #to only consume mkv_scan_tracks_ok
    tracks_csv_types: ["issues"] #to only consume mkv_scan_tracks_issues
    #tracks_csv_types: ["ok", "issues"] #to consume both (default)

  vid_mkv_scan:
    dry_run: false
    logging:
      file_prefix: "mkv_scan"

  vid_scan_hevc:
    dry_run: false
    logging:
      file_prefix: "mkv_scan_hevc"

  vid_mkv_scan_v2:
    dry_run: false
    logging:
      file_prefix: "mkv_scan_v2"

  vid_cleaner:
    dry_run: false
    logging:
      file_prefix: "vid_cleaner"

  vid_conv_cleaner:
    dry_run: false
    logging:
      file_prefix: "vid_conv_cleaner"

  vid_mkv_extract_subs:
    dry_run: false
    overwrite: false
    logging:
      file_prefix: "mkv_extract_subs"
    tracks_csv_types: ["issues"]

  vid_mkv_merge_ext_subs:
    dry_run: false
    logging:
      file_prefix: "mkv_merge_ext_subs"

  vid_srt_clean:
    dry_run: false
    overwrite: false
    min_text_chars: 12
    languages: ["eng"]
    logging:
      file_prefix: "srt_clean"

  vid_tagger:
    csv_dir: "./00_tracks/03_clean"
    tags: ["FINAL"]
    dry_run: false
    logging:
      file_prefix: "tagger"

  file_scan:
    base_name: "file_scan"
    logging:
      file_prefix: "file_scan"

  file_rename:
    base_name: "file_scan"
    dry_run: false
    # csv_part: [2, 3]
    logging:
      file_prefix: "file_rename"
