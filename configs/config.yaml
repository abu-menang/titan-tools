# Unified configuration for Titan Tools.
# Centralises task settings and logging defaults in a single file.

logging:
  # Default logging level for the entire toolkit. Accepts standard logging levels.
  level: DEBUG
  # Allow overriding Rich-based logging. Values: true, false, or "auto" to auto-detect.
  use_rich: auto
  # Directory for log files emitted by the logging setup.
  log_dir: "./logs"
  # Prefix applied to generated log filenames.
  file_prefix: "titan"

task_defaults:
  roots:
    - "/drive/COEUS/reactions/AliAni/Kaguya/"
  output_root: "./00_reports"

shared:
  batch_size: 100  # max files per CSV batch
  csv_part: [0]  # 0 = latest non-batched CSV, >0 = specific batched parts

tasks:

  vid_rename:
    dry_run: false
    no_meta: false
    # csv_part: [10]
    logging:
      file_prefix: "rename"

  vid_hevc_convert:
    dry_run: false
    preset: "slow"
    crf: 23
    logging:
      file_prefix: "hevc_convert"

  vid_mkv_clean:
    dry_run: false
    # csv_part: [1]  # override with latest mkv_scan_tracks_part01.csv
    logging:
      file_prefix: "mkv_clean"
    # Which mkv_scan_tracks CSV variants to load for cleaning. Options:
    #tracks_csv_types: ["ok"] #to only consume mkv_scan_tracks_ok
    tracks_csv_types: ["issues"] #to only consume mkv_scan_tracks_issues
    #tracks_csv_types: ["ok", "issues"] #to consume both (default)

  vid_mkv_scan:
    dry_run: false
    logging:
      file_prefix: "mkv_scan"
    # Language-based rules to include files in mkv_scan_tracks_issues.
    # Each is a list of language prefixes (case-insensitive). If empty,
    # the corresponding rule is disabled.
    # Example: lang_sub: ["eng", "ja"] will mark files with subtitle
    # tracks whose language starts with "eng" or "ja" as issues.
    lang_vid: []
    lang_aud: ["hin","mal","tam","tel"]
    lang_sub: ["eng"]

  vid_mkv_extract_subs:
    dry_run: false
    overwrite: false
    logging:
      file_prefix: "mkv_extract_subs"
    tracks_csv_types: ["issues"]

  vid_srt_clean:
    dry_run: false
    overwrite: false
    min_text_chars: 12
    languages: ["eng"]
    logging:
      file_prefix: "srt_clean"

  file_scan:
    base_name: "file_scan"
    logging:
      file_prefix: "file_scan"

  file_rename:
    base_name: "file_scan"
    dry_run: false
    # csv_part: [2, 3]
    logging:
      file_prefix: "file_rename"


